<!DOCTYPE html><html lang="en-us" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.4.0 for Hugo" />
  

  
  









  




  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Biswajit Sahoo" />

  
  
  
    
  
  <meta name="description" content="Run Python code in Google ColabDownload Python codeDownload R code (R Markdown)In this post, we will reproduce the results of a popular paper on PCA. The paper is titled &lsquo;Principal component analysis&rsquo; and is authored by Herve Abdi and Lynne J." />

  
  <link rel="alternate" hreflang="en-us" href="https://biswajitsahoo1111.github.io/post/principal-component-analysis-part-iii/" />

  
  
  
    <meta name="theme-color" content="#1565c0" />
  

  
  
    
    <script src="/js/mathjax-config.js"></script>
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.f1ecf783c14edc00c9320c205831ad8e.css" media="print" onload="this.media='all'">

  
  
  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha512-W0xM4mr6dEP9nREo7Z9z+9X70wytKvMGeDsj7ps2+xg5QPrEBXC8tAW1IFnzjR6eoJ90JmCnFzerQJTLzIEHjA==" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    
    
    
    
      
      
    
    
    

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
          <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
        
      
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.246129d782c938a644fe2d653d8a976f.css" />

  




<script async src="https://www.googletagmanager.com/gtag/js?id=UA-153208457-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
      dataLayer.push(arguments);
  }

  function trackOutboundLink(url, target) {
    gtag('event', 'click', {
         'event_category': 'outbound',
         'event_label': url,
         'transport_type': 'beacon',
         'event_callback': function () {
           if (target !== '_blank') {
             document.location = url;
           }
         }
    });
    console.debug("Outbound link clicked: " + url);
  }

  function onClickCallback(event) {
    if ((event.target.tagName !== 'A') || (event.target.host === window.location.host)) {
      return;
    }
    trackOutboundLink(event.target, event.target.getAttribute('target'));  
  }

  gtag('js', new Date());
  gtag('config', 'UA-153208457-1', {});
  gtag('set', {'cookie_flags': 'SameSite=None;Secure'});

  
  document.addEventListener('click', onClickCallback, false);
</script>


  

  

  




  
  
  

  

  
    <link rel="manifest" href="/manifest.webmanifest" />
  

  <link rel="icon" type="image/png" href="/media/icon_hubfdc04a733bd2d8af21820718fcf71ca_131045_32x32_fill_lanczos_center_3.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hubfdc04a733bd2d8af21820718fcf71ca_131045_180x180_fill_lanczos_center_3.png" />

  <link rel="canonical" href="https://biswajitsahoo1111.github.io/post/principal-component-analysis-part-iii/" />

  
  
  
  
  
  
  
  
    
    
  
  

  
  
    
    
  
  <meta property="twitter:card" content="summary" />
  
  <meta property="og:site_name" content="Biswajit Sahoo" />
  <meta property="og:url" content="https://biswajitsahoo1111.github.io/post/principal-component-analysis-part-iii/" />
  <meta property="og:title" content="Principal Component Analysis - Part III | Biswajit Sahoo" />
  <meta property="og:description" content="Run Python code in Google ColabDownload Python codeDownload R code (R Markdown)In this post, we will reproduce the results of a popular paper on PCA. The paper is titled &lsquo;Principal component analysis&rsquo; and is authored by Herve Abdi and Lynne J." /><meta property="og:image" content="https://biswajitsahoo1111.github.io/media/icon_hubfdc04a733bd2d8af21820718fcf71ca_131045_512x512_fill_lanczos_center_3.png" />
    <meta property="twitter:image" content="https://biswajitsahoo1111.github.io/media/icon_hubfdc04a733bd2d8af21820718fcf71ca_131045_512x512_fill_lanczos_center_3.png" /><meta property="og:locale" content="en-us" />
  
    
      <meta
        property="article:published_time"
        content="2019-02-05T00:00:00&#43;00:00"
      />
    
    <meta property="article:modified_time" content="2019-02-05T00:00:00&#43;00:00">
  

  


    






  




<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://biswajitsahoo1111.github.io/post/principal-component-analysis-part-iii/"
  },
  "headline": "Principal Component Analysis - Part III",
  
  "datePublished": "2019-02-05T00:00:00Z",
  "dateModified": "2019-02-05T00:00:00Z",
  
  "author": {
    "@type": "Person",
    "name": "Biswajit Sahoo"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "Biswajit Sahoo",
    "logo": {
      "@type": "ImageObject",
      "url": "https://biswajitsahoo1111.github.io/media/icon_hubfdc04a733bd2d8af21820718fcf71ca_131045_192x192_fill_lanczos_center_3.png"
    }
  },
  "description": "Run Python code in Google Colab\rDownload Python code\rDownload R code (R Markdown)\rIn this post, we will reproduce the results of a popular paper on PCA. The paper is titled \u0026lsquo;Principal component analysis\u0026rsquo; and is authored by Herve Abdi and Lynne J."
}
</script>

  

  

  

  





  <title>Principal Component Analysis - Part III | Biswajit Sahoo</title>
</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " data-wc-page-id="7ad287bd1fb2f3879a822ca5a4ccb115" >

  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.7e85d6cfe81caeb57cc49452f9b55e03.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      
      

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    












<header class="header--fixed">
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="/">Biswajit Sahoo</a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="Toggle navigation">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="/">Biswajit Sahoo</a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-end" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#about"><span>Home</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#blog"><span>Blog</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#projects"><span>Projects</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#publications"><span>Publications</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
          

          <li class="nav-item">
            <a class="nav-link " href="/personal"><span>Personal</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#contact"><span>Contact</span></a>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
          
        

        
        
        <li class="nav-item">
          <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        
        
        <li class="nav-item dropdown theme-dropdown">
          <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-label="Display preferences">
            <i class="fas fa-moon" aria-hidden="true"></i>
          </a>
          <div class="dropdown-menu">
            <a href="#" class="dropdown-item js-set-theme-light">
              <span>Light</span>
            </a>
            <a href="#" class="dropdown-item js-set-theme-dark">
              <span>Dark</span>
            </a>
            <a href="#" class="dropdown-item js-set-theme-auto">
              <span>Automatic</span>
            </a>
          </div>
        </li>
        

        
        

      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    <article class="article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1>Principal Component Analysis - Part III</h1>

  

  
    


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    Feb 5, 2019
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    11 min read
  </span>
  

  
  
  
  
  
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="/category/blog/">Blog</a>, <a href="/category/pca/">PCA</a>, <a href="/category/machine-learning/">Machine Learning</a>, <a href="/category/r/">R</a>, <a href="/category/python/">Python</a></span>
  

</div>

    





  
</div>





  <div class="article-container">

    <div class="article-style">
      <table class="tfo-notebook-buttons" align="center">
  <td align="center">
    <a href="https://colab.research.google.com/github/biswajitsahoo1111/cbm_codes_open/blob/master/notebooks/PCA_Abdi_in_python.ipynb">
    <img src="https://www.tensorflow.org/images/colab_logo_32px.png" />
    Run Python code in Google Colab</a>
  </td>
  <td align="center">
    <a href="https://www.dropbox.com/s/gn415uh3quou3a8/PCA_Abdi_in_python.ipynb?dl=1"><img src="https://www.tensorflow.org/images/download_logo_32px.png" />Download Python code</a>
  </td>
  <td align="center">
    <a href="https://www.dropbox.com/s/tp56l6v7upa1apf/PCA_blog_Biswajit_Sahoo_part_3.Rmd?dl=1"><img src="https://www.tensorflow.org/images/download_logo_32px.png" />Download R code (R Markdown)</a>
  </td>
</table>
<p>In this post, we will reproduce the results of a popular paper on PCA. The paper is titled &lsquo;<a href="https://personal.utdallas.edu/~herve/abdi-awPCA2010.pdf" target="_blank" rel="noopener">Principal component analysis</a>&rsquo; and is authored by <a href="https://personal.utdallas.edu/~herve/" target="_blank" rel="noopener">Herve Abdi</a> and <a href="https://ljwilliams.github.io/" target="_blank" rel="noopener">Lynne J. Williams</a>. It got published in 2010 and since then its popularity has only grown. Its number of citations are more than 4800 as per Google Scholar data (This was the number when this post was last revised).</p>
<p>This post is Part-III of a three part series on PCA. Other parts of the series can be found at the links below.</p>
<ul>
<li><a href="https://biswajitsahoo1111.github.io/post/principal-component-analysis-part-i/" target="_blank" rel="noopener">Part-I: Basic Theory of PCA</a></li>
<li><a href="https://biswajitsahoo1111.github.io/post/principal-component-analysis-part-ii/" target="_blank" rel="noopener">Part-II: PCA Implementation with and without using built-in functions</a></li>
</ul>
<p>This post contains code snippets in R. Equivalent <a href="https://github.com/biswajitsahoo1111/PCA/blob/master/pca_part_II_MATLAB_codes.pdf" target="_blank" rel="noopener">MATLAB codes</a> can be written using commands of <a href="https://biswajitsahoo1111.github.io/post/principal-component-analysis-part-ii/" target="_blank" rel="noopener">Part-II</a>. For figures, the reader has to write his/her own code in MATLAB.</p>
<h3 id="structure-of-the-paper">Structure of the paper</h3>
<p>Along with basic theory, the paper contains three examples on PCA, one example on correspondence analysis, and one example on multiple factor analysis. We will only focus on PCA examples in this post.</p>
<p>To run following R codes seamlessly, readers have to load following packages. If these packages have not been installed previously, use <code>install.packages(&quot;package_name&quot;)</code> to install those.</p>
<pre tabindex="0"><code>knitr::opts_chunk$set(comment = NA)
</code></pre><pre tabindex="0"><code>library(ggplot2)
library(ggrepel)
</code></pre><h3 id="how-to-get-data">How to get data</h3>
<p>Data for the examples have been taken from the paper [1]. The datasets are pretty small. So one way to read the data is to create a dataframe itself in R using the values given in paper. Otherwise, the values can first be stored in a csv file and then read into R. To make this post self-sufficient, we will adopt the former approach.</p>
<p><strong>Note</strong>: Throughout this article, additional comments have been made beside code segments. It would be a good idea to read those commented lines along with the codes.</p>
<pre tabindex="0"><code># Table 1
# Create a dataframe
Words = c(&#34;Bag&#34;, &#34;Across&#34;, &#34;On&#34;, &#34;Insane&#34;, &#34;By&#34;, &#34;Monastery&#34;, &#34;Relief&#34;, &#34;Slope&#34;, &#34;Scoundrel&#34;, &#34;With&#34;, &#34;Neither&#34;, &#34;Pretentious&#34;, &#34;Solid&#34;, &#34;This&#34;, &#34;For&#34;, &#34;Therefore&#34;, &#34;Generality&#34;, &#34;Arise&#34;, &#34;Blot&#34;, &#34;Infectious&#34;)
Word_length = c(3, 6, 2, 6, 2, 9, 6, 5, 9, 4, 7, 11, 5, 4, 3, 9, 10, 5, 4, 10)
Lines_in_dict = c(14, 7, 11, 9, 9, 4, 8, 11, 5, 8, 2, 4, 12, 9, 8, 1, 4, 13, 15, 6)
words = data.frame(Words, Word_length, Lines_in_dict, stringsAsFactors = F)
words
(words_centered = scale(words[,2:3],scale = F)) # Centering after reemoving the first column
</code></pre><h3 id="covariance-pca">Covariance PCA</h3>
<p>Covariance PCA uses centered data matrix. But data matrix is not scaled. <code>prcomp()</code> centers data by default.</p>
<pre tabindex="0"><code>pca_words_cov = prcomp(words[,2:3],scale = F) # cov stands for Covariance PCA
factor_scores_words = pca_words_cov$x
round(factor_scores_words,2)
</code></pre><p>Observer that factor scores for PC1 are negatives of what has been given in the paper. This is not a problem as principal directions are orthogonal.</p>
<h3 id="principal-directions-are-orthogonal">Principal directions are orthogonal</h3>
<pre tabindex="0"><code>#  It can also be checked that both the principal components are orthogonal.
sum(factor_scores_words[,1]*factor_scores_words[,2]) # PCs are orthogonal
</code></pre><h3 id="contribution-of-each-factor">Contribution of each factor</h3>
<p>It is defined as square of factor score divided by sum of squares of factor scores in that column.</p>
<pre tabindex="0"><code>round(factor_scores_words[,1]^2/sum(factor_scores_words[,1]^2)*100,2)
round(factor_scores_words[,2]^2/sum(factor_scores_words[,2]^2)*100,2)
</code></pre><p>The calculations in above two lines can be done in a single line</p>
<pre tabindex="0"><code>round(factor_scores_words^2/matrix(rep(colSums(factor_scores_words^2),nrow(words)),ncol = 2,byrow = T)*100,2)
</code></pre><h3 id="squared-distance-to-center-of-gravity">Squared distance to center of gravity</h3>
<pre tabindex="0"><code>(dist = rowSums(factor_scores_words^2))
</code></pre><h3 id="squared-cosine-of-observations">Squared cosine of observations</h3>
<pre tabindex="0"><code>(sq_cos = round(factor_scores_words^2/rowSums(factor_scores_words^2)*100))
</code></pre><p>Nan&rsquo;s are produced because of division by zero.</p>
<pre tabindex="0"><code># Figue 1
p = ggplot(words,aes(x = Lines_in_dict,y = Word_length,label = Words))+
  geom_point()+ geom_text_repel()+ 
  geom_hline(yintercept = 6)+geom_vline(xintercept = 8)+
  labs(x = &#34;Lines in dictionary&#34;,y = &#34;Word length&#34;)
print(p)
# Show directions of PCs
# Note that intercept argument in geom_abline considers the line to be at the origin. In our case the data are mean shifted.
# So we have to adjust the intercept taking new origin into consideration. These adjustments have been made below.
slope1 = pca_words_cov$rotation[1,1]/pca_words_cov$rotation[2,1] # Slope of first PC
slope2 = pca_words_cov$rotation[1,2]/pca_words_cov$rotation[2,2] # Slope of second PC
(new_origin = c(mean(words$Lines_in_dict),mean(words$Word_length)))
intercept1 = 6 - slope1*8
intercept2 = 6 - slope2*8
p+geom_abline(slope = slope1,intercept = intercept1,linetype = &#34;dashed&#34;,size = 1.2,col = &#34;red&#34;)+
  geom_abline(slope = slope2,intercept = intercept2,linetype = &#34;dashed&#34;,size = 1.2,col = &#34;blue&#34;)
</code></pre><p>In the above figure red dashed line is the 1st principal component (PC) and blue dashed line is the 2nd PC.</p>
<h3 id="rotated-pcs">Rotated PCs</h3>
<p>This figure is obtained by plotting factor scores. Note that we will plot negative of the factor scores of 1st PC to make the figure consistent with the paper.</p>
<pre tabindex="0"><code>ggplot(as.data.frame(pca_words_cov$x),aes(-pca_words_cov$x[,1],pca_words_cov$x[,2],label = words$Words))+
  geom_point()+geom_text_repel()+geom_hline(yintercept = 0)+geom_vline(xintercept = 0)+
  xlab(&#34;Factor score along PC1&#34;)+ylab(&#34;Factor score along PC2&#34;)
</code></pre><h3 id="with-supplementary-data">With supplementary data</h3>
<p>Given a supplementary point (a point previously not used in finding principal components),we have to first center the data point. Its factor scores can then be obtained by multiplying it with the loading matrix.</p>
<h3 id="factor-score-of-the-new-word-sur">Factor score of the new word &lsquo;sur&rsquo;</h3>
<pre tabindex="0"><code>sur = c(3,12) # It has 3 letter and 12 lines of dictionary entry
(sur_centered = sur - colMeans(words[,2:3]))
(factor_scores_sur = round(sur_centered %*% pca_words_cov$rotation,2))
</code></pre><h3 id="eigenvalues-and-variance">Eigenvalues and variance</h3>
<p>See <a href="https://biswajitsahoo1111.github.io/post/principal-component-analysis-part-ii/" target="_blank" rel="noopener">Part-II</a> for details.</p>
<h3 id="total-variance-before-transformation">Total variance before transformation</h3>
<pre tabindex="0"><code>(total_var_before = round(sum(diag(var(words_centered))),3))
</code></pre><h3 id="total-variance-after-transformation">Total variance after transformation</h3>
<pre tabindex="0"><code>(total_var_after = round(sum(diag(var(pca_words_cov$x))),3))
</code></pre><p>Correlation between principal components and original variables
(In the paper,this correlation is also termed loading. But we will strictly reserve the loading term to mean loading matrix $\textbf{P}$ (see <a href="https://biswajitsahoo1111.github.io/post/principal-component-analysis-part-i/" target="_blank" rel="noopener">Part-I</a>)</p>
<p>The sum of correlation coefficients between variables and principal components is 1. Intuitively, this means that variables are orthogonally projected onto the principal components.</p>
<h3 id="correlation-matrix">Correlation matrix</h3>
<pre tabindex="0"><code># Correlation between PCs and original variables
(cor(pca_words_cov$x,words_centered))
</code></pre><p><strong>Note</strong> that the answers for correlation coefficients don&rsquo;t match with that of the paper. Readers who get actual answers as given in paper are encouraged to send me an email using my contact details. However our procedure is correct and it does indeed give the correct answer for supplementary data as described below.</p>
<h3 id="squared-correlation">Squared correlation</h3>
<pre tabindex="0"><code>(cor(pca_words_cov$x,words_centered)^2)
</code></pre><p>Sum of correlation coefficients between variables and principal components is 1.</p>
<pre tabindex="0"><code>colSums((cor(pca_words_cov$x,words_centered)^2))
</code></pre><h3 id="loading-matrix">Loading matrix</h3>
<pre tabindex="0"><code>(loading_matrix = pca_words_cov$rotation)
</code></pre><h3 id="correlation-score-for-supplementary-variables">Correlation score for supplementary variables</h3>
<pre tabindex="0"><code># Supplementary variable (Table 4)
Frequency = c(8,230,700,1,500,1,9,2,1,700,7,1,4,500,900,3,1,10,1,1)
Num_entries = c(6,3,12,2,7,1,1,6,1,5,2,1,5,9,7,1,1,4,4,2)
supp_data = data.frame(Frequency,Num_entries) # Supplementary data
supp_data
</code></pre><h3 id="centered-supplementary-data">Centered supplementary data</h3>
<pre tabindex="0"><code>supp_data_cent = scale(supp_data,scale = F) # Centered supplementary data
</code></pre><h3 id="correlation-score-for-supplementary-data">Correlation score for supplementary data</h3>
<pre tabindex="0"><code>(corr_score_supp = round(cor(pca_words_cov$x,supp_data),4))
</code></pre><p>Note that correlation score doesn&rsquo;t depend on whether supplementary data is centered or not.</p>
<pre tabindex="0"><code>(round(cor(pca_words_cov$x,supp_data_cent),4))
</code></pre><h3 id="squared-correlation-1">Squared correlation</h3>
<pre tabindex="0"><code>(round(cor(pca_words_cov$x,supp_data_cent)^2,4))
</code></pre><h3 id="column-sums-of-squared-correlation-for-support-data">Column sums of squared correlation for support data</h3>
<pre tabindex="0"><code>(round(colSums(cor(pca_words_cov$x,supp_data_cent)^2),4))
</code></pre><h3 id="correlation-circle-plot">Correlation circle plot</h3>
<pre tabindex="0"><code># First plot correlation circle
x = seq(0,2*pi,length.out = 300)
circle = ggplot() + geom_path(data = data.frame(a = cos(x),b = sin(x)),
                     aes(cos(x),sin(x)),alpha = 0.3, size = 1.5)+
            geom_hline(yintercept = 0)+geom_vline(xintercept = 0)+
  annotate(&#34;text&#34;,x = c(1.08,0.05),y = c(0.05,1.08),label = c(&#34;PC1&#34;,&#34;PC2&#34;),angle = c(0,90))+
            xlab(NULL)+ylab(NULL)
# Plotting original variables
cor_score = as.data.frame(cor(words_centered,pca_words_cov$x))
variable_plot_original = circle + geom_point(data = cor_score,  aes(cor_score[,1],cor_score[,2]))+
  geom_text_repel(aes(cor_score[,1],cor_score[,2],
                      label = c(&#34;Length of words&#34;,&#34;Number of lines in Dict.&#34;))) 
print(variable_plot_original)
</code></pre><h3 id="plotting-supplementary-variables">Plotting supplementary variables</h3>
<pre tabindex="0"><code>variable_plot_original+
  geom_point(data = as.data.frame(corr_score_supp),
             aes(corr_score_supp[,1],corr_score_supp[,2]))+
  geom_text_repel(aes(corr_score_supp[,1],corr_score_supp[,2],
                      label = c(&#34;Frequency&#34;,&#34;Number of entries&#34;))) 
</code></pre><p>Observe that our correlation circle plot is flipped about y-axis (i.e., PC2) when compared to the plot given in paper. This is because our first principal component is negative of the one given in paper. So while computing correlation score, this negative principal component results in negative correlation scores. Hence, our plot flips about y-axis.</p>
<h2 id="example-2-wine-example">Example 2 (Wine example)</h2>
<h3 id="correlation-pca-with-wine-data">Correlation PCA with wine data</h3>
<pre tabindex="0"><code># Table 6
wine_type = c(paste(&#34;wine&#34;, 1:5, sep = &#34;_&#34;))
hedonic = c(14, 10, 8, 2, 6)
for_meat = c(7, 7, 5, 4, 2)
for_dessert = c(8, 6, 5, 7, 4)
price = c(7, 4, 10, 16, 13)
sugar = c(7, 3, 5, 7, 3)
alcohol = c(13, 14, 12, 11, 10)
acidity = c(7, 7, 5, 3, 3)
wine = data.frame(wine_type, hedonic, for_meat, for_dessert, price, sugar, alcohol, acidity, stringsAsFactors = F)
wine
pca_wine_cor = prcomp(wine[2:8],scale = T)
ggplot(as.data.frame(pca_wine_cor$x),aes(x = pca_wine_cor$x[,1],y =  pca_wine_cor$x[,2], label = paste0(&#34;wine &#34;,1:5)))+
  geom_point()+geom_text_repel()+ geom_vline(xintercept = 0)+ geom_hline(yintercept = 0)+
  xlab(&#34;Factor score along PC1&#34;)+ylab(&#34;Factor score along PC2&#34;)
</code></pre><p>Again our figure seems upside down than that of the paper. This is a minor discrepancy. Our 2nd eigenvector is negative of the one considered in paper. We can match the plot with that of the paper by just flipping the second principal component but we will not do that here.</p>
<h3 id="factor-scores-along-1st-and-2nd-pc">Factor scores along 1st and 2nd PC</h3>
<pre tabindex="0"><code># Table 7
(pca_wine_cor$x[,1:2])
</code></pre><h3 id="contribution-of-each-observation-to-principal-component">Contribution of each observation to principal component</h3>
<pre tabindex="0"><code>round(pca_wine_cor$x[,1:2]^2/matrix(rep(colSums(pca_wine_cor$x[,1:2]^2),nrow(wine)),ncol = 2,byrow = T)*100,2)
</code></pre><h3 id="squared-cosine-of-observations-of-first-pc">Squared cosine of observations of first PC</h3>
<pre tabindex="0"><code>(sq_cos = round(pca_wine_cor$x[,1:2]^2/rowSums(pca_wine_cor$x^2)*100))
</code></pre><h3 id="loading-scores-corresponding-to-first-two-principal-components">Loading scores corresponding to first two principal components</h3>
<pre tabindex="0"><code>(round(pca_wine_cor$rotation[,1:2],2))
</code></pre><h3 id="correlation-score-variables-with-first-two-principal-components">Correlation score variables with first two principal components</h3>
<pre tabindex="0"><code>(corr_score_wine = round(cor(pca_wine_cor$x,wine[,2:8])[1:2,],2))
</code></pre><h3 id="correlation-circle-for-wine-data">Correlation circle for wine data</h3>
<pre tabindex="0"><code># Figure 6
corr_score_wine = t(corr_score_wine)
circle + 
  geom_point(data = as.data.frame(corr_score_wine),
             aes(corr_score_wine[,1],corr_score_wine[,2]))+
  geom_text_repel(aes(corr_score_wine[,1],corr_score_wine[,2],
                      label = c(&#34;Hedonic&#34;,&#34;For Meat&#34;,&#34;For dessert&#34;,&#34;Price&#34;,&#34;Sugar&#34;,&#34;Alcohol&#34;,&#34;Acidity&#34;)))
</code></pre><h3 id="varimax-rotation">Varimax rotation</h3>
<p>Rotation is applied to loading matrix such that after rotation principal components are interpretable. By interpretable, we mean, some of the loading scores will have higher values and some other loading scores will have lower values. So it can be said that the variables whose loading scores have higher value, contribute significantly towards principal components as compared to other variables with lesser loading scores. Though rotation works in certain cases, it must be remembered that it is no magic wand for principal component interpretability. One of the popular rotations is Varimax rotation. R has a built-in command to perform varimax rotation.</p>
<p>Varimax rotation can be performed on the whole loading matrix or on a few components only. In the paper, varimax has been applied to first two principal components.</p>
<h3 id="loading-scores-of-first-two-principal-components">Loading scores of first two principal components</h3>
<pre tabindex="0"><code>(round(pca_wine_cor$rotation[,1:2],2))
</code></pre><h3 id="varimax-applied-to-first-two-principal-components">Varimax applied to first two principal components</h3>
<pre tabindex="0"><code>rotated_loading_scores = varimax(pca_wine_cor$rotation[,1:2])
</code></pre><h3 id="loading-scores-after-rotation">Loading scores after rotation</h3>
<pre tabindex="0"><code># Table 10
(round(rotated_loading_scores$loadings[,1:2],2))
</code></pre><p>The same result can also be obtained by multiplying the original loading matrix by the rotation matrix obtained from varimax.</p>
<pre tabindex="0"><code>(round(pca_wine_cor$rotation[,1:2] %*% rotated_loading_scores$rotmat,2))
</code></pre><h3 id="plot-of-loading-scores-before-rotation">Plot of loading scores before rotation</h3>
<pre tabindex="0"><code>#Figure 7
ggplot(as.data.frame(pca_wine_cor$rotation[,1:2]),aes(x = pca_wine_cor$rotation[,1],y = pca_wine_cor$rotation[,2],
                                                      label = c(&#34;Hedonic&#34;,&#34;For Meat&#34;,&#34;For dessert&#34;,&#34;Price&#34;,&#34;Sugar&#34;,&#34;Alcohol&#34;,&#34;Acidity&#34;)))+
  geom_point()+geom_text_repel()+geom_hline(yintercept = 0)+geom_vline(xintercept = 0)+
  xlab(&#34;Loading score along PC1&#34;)+ylab(&#34;Loading score along PC2&#34;)
</code></pre><h3 id="plot-of-loading-scores-after-rotation">Plot of loading scores after rotation</h3>
<pre tabindex="0"><code>ggplot(as.data.frame(rotated_loading_scores$loadings[,1:2]),
                     aes(x = rotated_loading_scores$loadings[,1],
                         y = rotated_loading_scores$loadings[,2],
                         label = c(&#34;Hedonic&#34;,&#34;For Meat&#34;,&#34;For dessert&#34;,&#34;Price&#34;,&#34;Sugar&#34;,&#34;Alcohol&#34;,&#34;Acidity&#34;)))+
  geom_point()+geom_text_repel()+geom_hline(yintercept = 0)+geom_vline(xintercept = 0)+
    xlab(&#34;Loading score along PC1 after rotation&#34;)+
    ylab(&#34;Loading score along PC2 after rotation&#34;)
</code></pre><h2 id="example-3">Example 3</h2>
<h3 id="french-food-example-covariance-pca-example">French food example (Covariance PCA example)</h3>
<pre tabindex="0"><code># Table 11 
class = rep(c(&#34;Blue_collar&#34;, &#34;White_collar&#34;, &#34;Upper_class&#34;), times = 4)
children = rep(c(2,3,4,5), each = 3)
bread = c(332, 293, 372, 406, 386, 438, 534, 460, 385, 655, 584, 515)
vegetables = c(428, 559, 767, 563, 608, 843, 660, 699, 789, 776, 995, 1097)
fruit = c(354, 388, 562, 341, 396, 689, 367, 484, 621, 423, 548, 887)
meat = c(1437, 1527, 1948, 1507, 1501, 2345, 1620, 1856, 2366, 1848, 2056, 2630)
poultry = c(526, 567, 927, 544, 558, 1148, 638, 762, 1149, 759, 893, 1167)
milk = c(247, 239, 235, 324, 319, 243, 414, 400, 304, 495, 518, 561)
wine = c(427, 258, 433, 407, 363, 341, 407, 416, 282, 486, 319, 284)
food = data.frame(class, children, bread, vegetables, fruit, meat, poultry, milk, wine, stringsAsFactors = F)
food
pca_food_cov = prcomp(food[,3:9],scale = F)
</code></pre><h3 id="factor-scores">Factor scores</h3>
<pre tabindex="0"><code># Table 12
(factor_scores_food = round(pca_food_cov$x[,1:2],2))
</code></pre><h3 id="contribution-of-each-observation-to-principal-component-1">Contribution of each observation to principal component</h3>
<pre tabindex="0"><code>round(pca_food_cov$x[,1:2]^2/matrix(rep(colSums(pca_food_cov$x[,1:2]^2),nrow(food)),ncol = 2,byrow = T)*100,2)
dist = pca_food_cov$x[,1]^2+pca_food_cov$x[,2]^2
</code></pre><h3 id="squared-cosine-of-observations-1">Squared cosine of observations</h3>
<pre tabindex="0"><code>(sq_cos = round(pca_food_cov$x[,1:2]^2/rowSums(pca_food_cov$x^2)*100))
</code></pre><h3 id="squared-loading-scores">Squared loading scores</h3>
<pre tabindex="0"><code># Table 13
(round(pca_food_cov$rotation[,1:2]^2,2))
</code></pre><p><strong>Note</strong> that this table doesn&rsquo;t match with that of the paper. We will stick to our analysis.</p>
<h3 id="correlation-score">Correlation score</h3>
<pre tabindex="0"><code>(corr_score_food = round((cor(pca_food_cov$x,food[,3:9])[1:2,]),2))
</code></pre><h3 id="squared-correlation-score">Squared correlation score</h3>
<pre tabindex="0"><code>(round((cor(pca_food_cov$x,food[,3:9])[1:2,])^2,2))
</code></pre><h3 id="correlation-circle-for-food-data">Correlation circle for food data</h3>
<pre tabindex="0"><code># Figure 9
corr_score_food = t(corr_score_food)
circle + geom_point(data = as.data.frame(corr_score_food), 
                    aes(x = corr_score_food[,1],y = corr_score_food[,2]))+
  geom_text_repel(data = as.data.frame(corr_score_food), 
                  aes(x = corr_score_food[,1],y = corr_score_food[,2],
                      label = c(&#34;Bread&#34;,&#34;Vegetables&#34;,&#34;Fruit&#34;,&#34;Meat&#34;,&#34;Poultry&#34;,&#34;Milk&#34;,&#34;Wine&#34;)))
</code></pre><p>Now observe that our correlation circle plot is almost close to that of the papers (though in opposite quadrants. But this is not a problem as we have previously mentioned).</p>
<h3 id="eigenvalues">Eigenvalues</h3>
<p>Eigenvalues of data covariance matrix is square of singular values of centered data matrix. Hence eigenvalues of data covariance matrix can be obtained as below.</p>
<pre tabindex="0"><code>## Table 14
cent_food = food[,3:9]-matrix(rep(colMeans(food[,3:9]),times = 12),nrow = 12,
                              byrow = T)
svd_food = svd(cent_food)
(Eigenvalues = (svd_food$d)^2)
</code></pre><p><strong>Important Note:</strong> These eigenvalues are not the same as variance of factor scores in principal components. Variance of principal component factor scores can be obtained by dividing the eigenvalues by $(n-1)$, where $n$ is number of data points (in this case $n = 12$). If this point is still not clear, refer to <a href="https://biswajitsahoo1111.github.io/post/principal-component-analysis-part-ii/" target="_blank" rel="noopener">Part-II</a>.</p>
<h3 id="percentage-contribution-of-each-principal-component">Percentage contribution of each principal component</h3>
<pre tabindex="0"><code>(round(Eigenvalues/sum(Eigenvalues),2))
</code></pre><h3 id="cumulative-sum-of-eigenvalues">Cumulative sum of eigenvalues</h3>
<pre tabindex="0"><code>(round(cumsum(Eigenvalues),2))
</code></pre><h3 id="cumulative-percentage-contribution">Cumulative percentage contribution</h3>
<pre tabindex="0"><code>(round(cumsum(Eigenvalues)/sum(Eigenvalues),2))
</code></pre><h3 id="ress-refer-to-the-paper-for-a-description">RESS (Refer to the paper for a description)</h3>
<pre tabindex="0"><code>RESS = array(rep(0,7))
for (i in 1:7){
  RESS[i] = sum(Eigenvalues)-sum(Eigenvalues[1:i])
}
RESS
</code></pre><h3 id="ratio-of-ress-and-sum-of-eigenvalues">Ratio of RESS and sum of eigenvalues</h3>
<pre tabindex="0"><code>round(RESS/sum(Eigenvalues),2)
</code></pre><p>We will not calculate the value of PRESS in this post as it requires us to consider random models. We will not pursue that here.</p>
<pre tabindex="0"><code>sessionInfo()
</code></pre><p>Though unusually long, I hope, this post will be of help to (courageous) readers who work there way through it till end. Comments regarding any errors or omissions may be sent to <a href="https://biswajitsahoo1111.github.io/" target="_blank" rel="noopener">author&rsquo;s</a> email.</p>
<h2 id="reference">Reference</h2>
<ol>
<li>Abdi, H., &amp; Williams, L. J. (2010). Principal component analysis. Wiley interdisciplinary reviews: computational statistics, 2(4), 433-459.</li>
</ol>
<p>Last updated: 19th January, 2020</p>

    </div>

    






<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/pca/">PCA</a>
  
  <a class="badge badge-light" href="/tag/machine-learning/">Machine Learning</a>
  
  <a class="badge badge-light" href="/tag/r/">R</a>
  
  <a class="badge badge-light" href="/tag/python/">Python</a>
  
</div>



<div class="share-box">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https://biswajitsahoo1111.github.io/post/principal-component-analysis-part-iii/&amp;text=Principal%20Component%20Analysis%20-%20Part%20III" target="_blank" rel="noopener" class="share-btn-twitter" aria-label="twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https://biswajitsahoo1111.github.io/post/principal-component-analysis-part-iii/&amp;t=Principal%20Component%20Analysis%20-%20Part%20III" target="_blank" rel="noopener" class="share-btn-facebook" aria-label="facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=Principal%20Component%20Analysis%20-%20Part%20III&amp;body=https://biswajitsahoo1111.github.io/post/principal-component-analysis-part-iii/" target="_blank" rel="noopener" class="share-btn-email" aria-label="envelope">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https://biswajitsahoo1111.github.io/post/principal-component-analysis-part-iii/&amp;title=Principal%20Component%20Analysis%20-%20Part%20III" target="_blank" rel="noopener" class="share-btn-linkedin" aria-label="linkedin-in">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="whatsapp://send?text=Principal%20Component%20Analysis%20-%20Part%20III%20https://biswajitsahoo1111.github.io/post/principal-component-analysis-part-iii/" target="_blank" rel="noopener" class="share-btn-whatsapp" aria-label="whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https://biswajitsahoo1111.github.io/post/principal-component-analysis-part-iii/&amp;title=Principal%20Component%20Analysis%20-%20Part%20III" target="_blank" rel="noopener" class="share-btn-weibo" aria-label="weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>











  
  



  
  
  
  
  
  <div class="media author-card content-widget-hr">
    
      
      <img class="avatar mr-3 avatar-circle" src="/authors/admin/avatar_hu3e225c89d6328e00dc57563a3fd76514_183341_270x270_fill_q75_lanczos_center.jpg" alt="Biswajit Sahoo">
    

    <div class="media-body">
      <h5 class="card-title">Biswajit Sahoo</h5>
      <h6 class="card-subtitle">Machine Learning Engineer</h6>
      <p class="card-text">My research interests include machine learning, deep learning, signal processing and data-driven machinery condition monitoring.</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="/#contact" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/biswajitsahoo1111" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.linkedin.com/in/biswajitsahoo1111/" target="_blank" rel="noopener">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.co.in/citations?hl=en&amp;user=zu2CSBMAAAAJ" target="_blank" rel="noopener">
        <i class="ai ai-google-scholar"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://medium.com/@biswajitsahoo1111" target="_blank" rel="noopener">
        <i class="fab fa-medium"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>
















  
  
  <div class="article-widget content-widget-hr">
    <h3>Related</h3>
    <ul>
      
      <li><a href="/post/principal-component-analysis-part-ii/">Principal Component Analysis - Part II</a></li>
      
      <li><a href="/post/principal-component-analysis-part-i/">Principal Component Analysis - Part I</a></li>
      
      <li><a href="/publication/spca_fault_diagnosis/">Feature Subset Selection Using Sparse Principal Component Analysis and Multiclass Fault Classification Using Selected Features</a></li>
      
      <li><a href="/post/making-github-traffic-type-plots/">Making Github Traffic Type Plots</a></li>
      
      <li><a href="/post/reading-multiple-files-in-tensorflow-2-using-sequence/">Reading multiple files in Tensorflow 2 using Sequence</a></li>
      
    </ul>
  </div>
  




    </div>
    <div class="col-12 col-lg-10ish article-style">
    <script src="https://utteranc.es/client.js"
        repo="biswajitsahoo1111/biswajitsahoo1111.github.io"
        issue-term="title"
        theme="github-light"
        crossorigin="anonymous"
        async>
    </script>
    </div>


  </div>
</article>
  </div>

  <div class="page-footer">
    
    
    <div class="container">
      <footer class="site-footer">

  



  

  
  
  <p class="powered-by">
    © 2023 Biswajit Sahoo &middot; 

    Powered by <a href="https://www.r-project.org/" target="_blank" rel="noopener"><i class="fab fa-r-project"></i> </a><a href="https://github.com/rstudio/blogdown" target="_blank" rel="noopener">blogdown</a> package and the
    <a href="https://github.com/wowchemy/starter-hugo-academic" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" class="back-to-top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

    </div>
    
  </div>

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

      

    
    <script src="/js/vendor-bundle.min.9592335d574f7a97010f99b90ad0f310.js"></script>

    
    
    
      
      
        <script src="https://cdn.jsdelivr.net/gh/desandro/imagesloaded@v4.1.4/imagesloaded.pkgd.min.js" integrity="sha512-S5PZ9GxJZO16tT9r3WJp/Safn31eu8uWrzglMahDT4dsmgqWonRY9grk3j+3tfuPr9WJNsfooOR7Gi7HL5W2jw==" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/gh/metafizzy/isotope@v3.0.6/dist/isotope.pkgd.min.js" integrity="sha512-Zq2BOxyhvnRFXu0+WE6ojpZLOU2jdnqbrM1hmVdGzyeCa1DgM3X5Q4A/Is9xA1IkbUeDd7755dNNI/PzSf2Pew==" crossorigin="anonymous"></script>
      

      
      

      

      
        
        <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/highlight.min.js" integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin="anonymous"></script>
        
        
        <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/languages/r, python, latex, bash.min.js" crossorigin="anonymous"></script>
        
      

    

    
    
    

    
    

    
    
    
      
      <script id="search-hit-fuse-template" type="text/x-template">
        <div class="search-hit" id="summary-{{key}}">
          <div class="search-hit-content">
            <div class="search-hit-name">
              <a href="{{relpermalink}}">{{title}}</a>
              <div class="article-metadata search-hit-type">{{type}}</div>
              <p class="search-hit-description">{{snippet}}</p>
            </div>
          </div>
        </div>
      </script>
      
        <script src="https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js" integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
      
    

    
    

    
    
    
    

    
    
      
      
      
      
      
      
      
    

    
    
    
    
    
    
    
    
      
      
    
    
    <script src="/en/js/wowchemy.min.e14897cafececa7181d21d62540ef117.js"></script>

    






</body>
</html>
